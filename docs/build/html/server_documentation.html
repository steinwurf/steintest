
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Server Documentation &#8212; Steintest  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Client Documentation" href="client_documentation.html" />
    <link rel="prev" title="Welcome to Steintest’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="server-documentation">
<h1>Server Documentation<a class="headerlink" href="#server-documentation" title="Permalink to this heading">¶</a></h1>
<p>The server listenes for http request on port 8080, it then upgrades the connectio to a websocket connection and when the client starts a test, it starts by creating a websocket connection to the server. when the connection is established and the client starts sending packets the server simply acts as an echo. When the test is finished the server sends the data and meta data to the database.</p>
<section id="server-go">
<h2>Server.go<a class="headerlink" href="#server-go" title="Permalink to this heading">¶</a></h2>
<p>This file contains all the structs and functions used for the websocket server</p>
<p><code class="docutils literal notranslate"><span class="pre">Run()</span></code><br />
This function is the function that starts the server and make it listen for incoming connections on port 8080.
It calls <code class="docutils literal notranslate"><span class="pre">setupRoutes()</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">setupRoutes()</span></code><br />
This function instantiate server struct, creating a pool of connections. This pool keeps track of the different websocket connections to users.<br />
This function also specifies that when an incoming http request is registered the <code class="docutils literal notranslate"><span class="pre">wsEndpoint</span></code> function is called.</p>
<p><code class="docutils literal notranslate"><span class="pre">wsEndpoint(pool</span> <span class="pre">*Pool,</span> <span class="pre">w</span> <span class="pre">http.ResponseWriter,</span> <span class="pre">r</span> <span class="pre">*http.Request)</span></code>
This function is called when the server registeres an incoming http request. It serves multiple purposes:</p>
<ul class="simple">
<li><p>Creates the client object and registeres it in the pool.</p></li>
<li><p>Upgardes the http request to a websocket connection.</p></li>
<li><p>Calls the reader function.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">reader(client</span> <span class="pre">*Client,</span> <span class="pre">pool</span> <span class="pre">*Pool)</span></code><br />
This function is the go routine running through out the connection.</p>
<ul class="simple">
<li><p>Connects to the database.</p></li>
<li><p>Created the webrtc connection and sets all the event listeners.</p></li>
<li><p>Reading messages over the websocket, and calling the correct messages depending on the websocket      messages.</p></li>
</ul>
</section>
<section id="webrtc-go">
<h2>webrtc.go<a class="headerlink" href="#webrtc-go" title="Permalink to this heading">¶</a></h2>
<p>WIP</p>
</section>
<section id="database-go">
<h2>database.go<a class="headerlink" href="#database-go" title="Permalink to this heading">¶</a></h2>
<p>WIP</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Steintest</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Server Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#server-go">Server.go</a></li>
<li class="toctree-l2"><a class="reference internal" href="#webrtc-go">webrtc.go</a></li>
<li class="toctree-l2"><a class="reference internal" href="#database-go">database.go</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="client_documentation.html">Client Documentation</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to Steintest’s documentation!</a></li>
      <li>Next: <a href="client_documentation.html" title="next chapter">Client Documentation</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Steinwurf.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.2.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/server_documentation.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>